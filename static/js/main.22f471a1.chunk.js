(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){e.exports=a(321)},249:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),s=a.n(i),o=a(14),l=a(145),c=a.n(l),d=a(32),u=(a(249),a(23)),m=a.n(u);var f=function(){return m()(d.b.apply(void 0,arguments),d.c)},v=a(7),b=a(9),g=a.n(b),p=a(16);var h=function(e){var t=e.name,a=e.className;return r.a.createElement("i",{className:g()("material-icons",Object(p.a)({},a,a)),children:t})},I=a(15);var O=function(e){var t=e.className,a=e.component,n=Object(v.a)(e,["className","component"]);return r.a.createElement(a||"a",Object(I.a)({className:g()("tappable",Object(p.a)({},t,t))},n))};var E=function(e){var t=e.hasCloseButton,a=e.isOpen,n=e.onClose,i=e.title,s=Object(v.a)(e,["hasCloseButton","isOpen","onClose","title"]);return r.a.createElement("div",{className:g()("modal",{"is-open":a})},r.a.createElement("div",{className:"modal-layout"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title"},i),t&&r.a.createElement(O,{className:"modal-close btn-round",onClick:n},r.a.createElement(h,{name:"close"}))),r.a.createElement("div",Object.assign({className:"modal-content"},s))))};var j=f("dialogStore")(function(e){var t=e.dialogStore;return r.a.createElement(E,{title:t.title,isOpen:t.isOpen},r.a.createElement("div",{className:"dialog"},t.message&&r.a.createElement("div",{className:"dialog-message"},t.message),r.a.createElement("div",{className:"dialog-action"},r.a.createElement(O,{className:"btn btn-small mgn-r",onClick:function(){t.onCancel&&t.onCancel(),t.close()}},t.cancelLabel||"Cancel"),t.onOk&&r.a.createElement(O,{className:"btn btn-small",onClick:function(){t.onOk(),t.close()}},t.okLabel||"Ok"))))}),S=a(2),N=a(4),k=a(11),M=a(10),y=a(12);var L=function(e){var t=e.className,a=Object(v.a)(e,["className"]);return r.a.createElement("form",Object.assign({className:g()("form",Object(p.a)({},t,t))},a))},D=0,C=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(k.a)(this,Object(M.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value,n=a.props.onChange;a.setState({value:t},function(){return n&&n(t)})},a.state={value:e.value||""},D+=1,a}return Object(y.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.autoFocus,n=t.label,i=t.type;return r.a.createElement("div",{className:"form-field"},r.a.createElement("label",{htmlFor:"input_".concat(D)},r.a.createElement("input",{autoFocus:a,id:"input_".concat(D),required:!0,className:"form-input",type:i,value:e,onChange:this.handleChange}),r.a.createElement("span",{className:"label"},n),r.a.createElement("span",{className:"border"})))}}]),t}(n.Component),w=function(e){function t(e){var a;Object(S.a)(this,t),(a=Object(k.a)(this,Object(M.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=a.props,n=t.listsStore,r=t.itemId,i=a.state.description;try{n.editItem(r,i),n.setItemModalMode(null)}catch(s){a.setState({error:s.message})}};var n=a.props,r=n.listsStore,i=n.itemId;return a.state={description:r.items[i].description,error:!1},a}return Object(y.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.description;return r.a.createElement(L,{onSubmit:this.submit},r.a.createElement(C,{autoFocus:!0,value:n,label:"Description",type:"text",onChange:function(t){return e.setState({description:t})}}),a&&r.a.createElement("div",{className:"form-error"},a),r.a.createElement(O,{component:"button",className:"btn",type:"submit"},"Update Task"))}}]),t}(n.Component),T=f("listsStore")(w),P=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(k.a)(this,Object(M.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=a.props,n=t.listsStore,r=t.listId,i=a.state.description;try{n.addItem(r,i),n.setItemModalMode(null)}catch(s){a.setState({error:s.message})}},a.state={description:"",error:!1},a}return Object(y.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.description;return r.a.createElement(L,{onSubmit:this.submit},r.a.createElement(C,{autoFocus:!0,value:n,label:"Description",type:"text",onChange:function(t){return e.setState({description:t})}}),a&&r.a.createElement("div",{className:"form-error"},a),r.a.createElement(O,{component:"button",className:"btn",type:"submit"},"Add Task"))}}]),t}(n.Component),A=f("listsStore")(P);var _=f("listsStore")(function(e){var t=e.listsStore;return r.a.createElement(E,{hasCloseButton:!0,isOpen:t.itemModalMode,onClose:function(){return t.setItemModalMode(null)},title:function(){switch(t.itemModalMode){case"new":return"Add New Task";case"update":return"Update Task";default:return""}}()},function(){switch(t.itemModalMode){case"new":return r.a.createElement(A,t.itemModalProps);case"update":return r.a.createElement(T,t.itemModalProps);default:return null}}())}),x=function(e){function t(e){var a;Object(S.a)(this,t),(a=Object(k.a)(this,Object(M.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=a.props,n=t.listsStore,r=t.id,i=a.state.title;try{n.editList(r,i),n.setListModalMode(null)}catch(s){a.setState({error:s.message})}};var n=e.id,r=e.listsStore;return a.state={title:r.lists[n].title,error:!1},a}return Object(y.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.title;return r.a.createElement(L,{onSubmit:this.submit},r.a.createElement(C,{autoFocus:!0,value:n,label:"Title",type:"text",onChange:function(t){return e.setState({title:t})}}),a&&r.a.createElement("div",{className:"form-error"},a),r.a.createElement(O,{component:"button",className:"btn",type:"submit"},"Update List"))}}]),t}(n.Component),F=f("listsStore")(x),Y=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(k.a)(this,Object(M.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=a.props.listsStore,n=a.state.title;try{t.addList(n),t.setListModalMode(null)}catch(r){a.setState({error:r.message})}},a.state={title:"",error:!1},a}return Object(y.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.title;return r.a.createElement(L,{onSubmit:this.submit},r.a.createElement(C,{autoFocus:!0,value:n,label:"Title",type:"text",onChange:function(t){return e.setState({title:t})}}),a&&r.a.createElement("div",{className:"form-error"},a),r.a.createElement(O,{component:"button",className:"btn",type:"submit"},"Add List"))}}]),t}(n.Component),B=f("listsStore")(Y);var J=f("listsStore")(function(e){var t=e.listsStore;return r.a.createElement(E,{hasCloseButton:!0,isOpen:t.listModalMode,onClose:function(){return t.setListModalMode(null)},title:function(){switch(t.listModalMode){case"new":return"Add New List";case"update":return"Update Title";default:return""}}()},function(){switch(t.listModalMode){case"new":return r.a.createElement(B,t.listModalProps);case"update":return r.a.createElement(F,t.listModalProps);default:return null}}())}),U="item",q="list";var G=Object(o.DragSource)(q,{beginDrag:function(e){return{id:e.id}},isDragging:function(e,t){return e.id===t.getItem().id}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}),W=a(1),z=new(function(){function e(t){Object(S.a)(this,e),this.key=t,this.setItem=this.setItem.bind(this),this.getItem=this.getItem.bind(this),this.removeItem=this.removeItem.bind(this)}return Object(N.a)(e,[{key:"setItem",value:function(e,t){var a=this._getParsedData();a[e]=t,this._stringifyAndSetData(a)}},{key:"getItem",value:function(e){return this._getParsedData()[e]}},{key:"removeItem",value:function(e){var t=this._getParsedData();delete t[e],this._stringifyAndSetData(t)}},{key:"_getParsedData",value:function(){return JSON.parse(localStorage.getItem(this.key))||{}}},{key:"_stringifyAndSetData",value:function(e){localStorage.setItem(this.key,JSON.stringify(e))}}]),e}())("trello-app"),H="api.items";var K={add:function(e){if(!e||e.trim().length<3)throw new Error("Item description too small!");var t=function(){var e=z.getItem(H);return e.added+=1,z.setItem(H,e),e.added}(),a=z.getItem(H),n={description:e};return a.data[t]=n,z.setItem(H,a),Object(I.a)({id:t},n)},configure:function(){var e=z.getItem(H);e||(e={data:{1:{description:"Welcome to Task Manager"},2:{description:"You can add tasks to any list or create a new list."},3:{description:"Lists can be reordered as per your liking."},4:{description:"Tasks can be moved between different lists."}},added:4},z.setItem(H,e))},delete:function(e){var t=z.getItem(H);delete t.data[e],z.setItem(H,t)},edit:function(e,t){if(!t||t.trim().length<3)throw new Error("Item description too small!");var a=z.getItem(H);return a.data[e]={description:t},z.setItem(H,a),{id:e,description:t}},get:function(){return{items:z.getItem(H).data}}};function Q(e,t){var a=e.indexOf(t);a>-1&&e.splice(a,1)}function R(e,t,a){e.splice(a,0,t)}var V="api.lists";var X={add:function(e){if(!e||e.trim().length<3)throw new Error("List title too small!");var t=function(){var e=z.getItem(V);return e.added+=1,z.setItem(V,e),e.added}(),a=z.getItem(V),n={title:e,items:[]};return a.data[t]=n,a.order.push(t),z.setItem(V,a),Object(I.a)({id:t},n)},addItem:function(e,t){var a=z.getItem(V);a.data[e].items.push(t),z.setItem(V,a)},configure:function(){var e=z.getItem(V);e||(e={order:[1,2],data:{1:{title:"Introduction",items:[1,2]},2:{title:"Tips!",items:[3,4]}},added:2},z.setItem(V,e))},delete:function(e){var t=z.getItem(V);return Q(t.order,e),delete t.data[e],z.setItem(V,t),t.order},deleteItem:function(e,t){var a=z.getItem(V);Q(a.data[e].items,t),z.setItem(V,a)},edit:function(e,t){if(!t||t.trim().length<3)throw new Error("List title too small!");var a=z.getItem(V);return a.data[e].title=t,z.setItem(V,a),Object(I.a)({id:e},a.data[e])},get:function(){var e=z.getItem(V);return{lists:e.data,order:e.order}},move:function(e,t){var a=z.getItem(V);return Q(a.order,e),R(a.order,e,t),z.setItem(V,a),a.order},moveItem:function(e,t){var a=z.getItem(V);return Q(a.data[e.listId].items,e.itemId),R(a.data[t.listId].items,e.itemId,t.position),z.setItem(V,a),{list1:Object(I.a)({id:e.listId},a.data[e.listId]),list2:Object(I.a)({id:t.listId},a.data[t.listId])}}};function Z(e,t){X.deleteItem(e,t),K.delete(t)}var $=K.edit,ee=X.add,te=X.edit,ae=X.move,ne={addItem:function(e,t){var a=K.add(t);return X.addItem(e,a.id),a},addList:ee,configure:function(){K.configure(),X.configure()},deleteItem:Z,deleteList:function(e){return X.get().lists[e].items.forEach(function(t){return Z(e,t)}),X.delete(e)},editItem:$,editList:te,get:function(){var e=X.get(),t=e.lists;return{order:e.order,lists:t,items:K.get().items}},moveItem:X.moveItem,moveList:ae},re=new(function(){function e(){var t=this;Object(S.a)(this,e),Object(W.g)(this,{lists:null,items:null,order:Object(W.l)([]),listModalMode:null,listModalProps:{},setListModalMode:Object(W.d)(function(e,a){t.listModalMode=e,t.listModalProps=a}),itemModalMode:null,itemModalProps:{},setItemModalMode:Object(W.d)(function(e,a){t.itemModalMode=e,t.itemModalProps=a}),load:Object(W.d)(function(){var e=ne.get(),a=e.items,n=e.lists,r=e.order;t.items=a,t.lists=n,t.order=r}),addItem:Object(W.d)(function(e,a){var n=ne.addItem(e,a),r=n.id,i=Object(v.a)(n,["id"]);t.items[r]=i,t.lists[e].items.push(r)}),addList:Object(W.d)(function(e){var a=ne.addList(e),n=a.id,r=Object(v.a)(a,["id"]);t.lists[n]=r,t.order.push(n)}),deleteItem:Object(W.d)(function(e,a){ne.deleteItem(e,a),Q(t.lists[e].items,a),delete t.items[a]}),deleteList:Object(W.d)(function(e){var a=ne.deleteList(e);t.order=a}),editItem:Object(W.d)(function(e,a){var n=ne.editItem(e,a),r=n.id,i=Object(v.a)(n,["id"]);t.items[r]=i}),editList:Object(W.d)(function(e,a){var n=ne.editList(e,a),r=n.id,i=Object(v.a)(n,["id"]);t.lists[r]=i}),moveItem:Object(W.d)(function(e,a){var n=ne.moveItem(e,a),r=n.list1,i=n.list2,s=r.id,o=Object(v.a)(r,["id"]),l=i.id,c=Object(v.a)(i,["id"]);t.lists[s]=o,t.lists[l]=c}),moveList:Object(W.d)(function(e,a){var n=ne.moveList(e,a);t.order=n})})}return Object(N.a)(e,[{key:"getListIdOfItem",value:function(e){var t,a=this;return this.order.some(function(n){return!!a.lists[n].items.includes(e)&&(t=n,!0)}),t}}]),e}()),ie={canDrop:function(){return!1},hover:function(e,t){var a=e.position,n=t.getItem().id;re.moveList(n,a)}};var se=Object(o.DropTarget)(q,ie,function(e){return{connectDropTarget:e.dropTarget()}});var oe=Object(o.DragSource)(U,{beginDrag:function(e){return{id:e.id}},isDragging:function(e,t){return e.id===t.getItem().id}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}),le={canDrop:function(){return!1},hover:function(e,t){var a=e.listId,n=e.id,r=e.position,i=t.getItem().id,s={itemId:i,listId:re.getListIdOfItem(i)},o={listId:a,position:r};s.itemId!==n&&re.moveItem(s,o)}};var ce=Object(o.DropTarget)(U,le,function(e){return{connectDropTarget:e.dropTarget()}});var de=m()(ce,oe,f("dialogStore","listsStore"))(function(e){var t=e.connectDragSource,a=e.connectDropTarget,n=e.dialogStore,i=e.id,s=e.isDragging,o=e.listId,l=e.listsStore,c=l.items[i];return a(t(r.a.createElement("div",{className:g()("item draggable",{"is-moving":s})},r.a.createElement("div",{className:"item-desc"},c.description),r.a.createElement("div",{className:"item-action"},r.a.createElement(O,{className:"btn btn-danger btn-small mgn-r",onClick:function(){return n.areYouSure({message:"Proceeding will delete this task and it can't be undone.",onOk:function(){return l.deleteItem(o,i)}})}},"Delete"),r.a.createElement(O,{className:"btn btn-small",onClick:function(){return l.setItemModalMode("update",{itemId:i})}},"Edit")))))});var ue=ce(function(e){var t=e.connectDropTarget,a=e.position;return t(r.a.createElement("div",{className:"item is-dummy"},0===a&&r.a.createElement("p",{className:"success"},"Yey, no tasks pending here!")))});var me=m()(se,G,f("dialogStore","listsStore"))(function(e){var t=e.connectDragSource,a=e.connectDropTarget,n=e.dialogStore,i=e.id,s=e.isDragging,o=e.listsStore,l=o.lists[i];return a(t(r.a.createElement("div",{className:g()("list draggable",{"is-moving":s})},r.a.createElement("div",{className:"list-info"},r.a.createElement("div",{className:"list-title"},l.title),r.a.createElement("div",{className:"list-action"},r.a.createElement(O,{className:"btn btn-inverted btn-danger btn-small mgn-r",onClick:function(){return n.areYouSure({message:"Proceeding will delete the list and all the tasks in it.\n              It can't be undone.",onOk:function(){return o.deleteList(i)}})}},r.a.createElement(h,{name:"delete"})),r.a.createElement(O,{className:"btn btn-inverted btn-small",onClick:function(){return o.setListModalMode("update",{id:i})}},r.a.createElement(h,{name:"edit"})))),r.a.createElement("div",{className:"list-items scroll"},l.items.map(function(e,t){return r.a.createElement(de,{key:t,id:e,listId:i,position:t})}),r.a.createElement(ue,{position:l.items.length,id:-1,listId:i})),r.a.createElement(O,{className:"btn mgn-t",onClick:function(){return o.setItemModalMode("new",{listId:i})}},"Add New Task"))))});var fe=f("listsStore")(function(e){var t=e.listsStore;return r.a.createElement("div",{className:"lists-container scroll-h"},t.order.map(function(e,t){return r.a.createElement(me,{key:t,position:t,id:e})}),r.a.createElement("div",{className:"list-new-btn"},r.a.createElement(O,{className:"btn",onClick:function(){return t.setListModalMode("new")}},"Add New List")))}),ve=function(e){function t(){return Object(S.a)(this,t),Object(k.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){this.props.listsStore.load()}},{key:"render",value:function(){return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout-content"},r.a.createElement(fe,null)))}}]),t}(n.Component),be=f("listsStore")(ve),ge={dialogStore:new function e(){var t=this;Object(S.a)(this,e),Object(W.g)(this,{isOpen:!1,title:null,message:null,onOk:null,okLabel:null,onCancel:null,cancelLabel:null,open:Object(W.d)(function(e){var a=e.title,n=e.message,r=e.okLabel,i=e.cancelLabel,s=e.onOk,o=e.onCancel;t.title=a,t.message=n,t.okLabel=r,t.cancelLabel=i,t.onOk=s,t.onCancel=o,t.isOpen=!0}),close:Object(W.d)(function(){t.isOpen=!1}),areYouSure:Object(W.d)(function(e){t.open(Object.assign({title:"Are You Sure?",okLabel:"Yes, Go Ahead",cancelLabel:"No, Cancel"},e))})})},listsStore:re};var pe=function(){return r.a.createElement(d.a,ge,r.a.createElement(o.DragDropContextProvider,{backend:c.a},r.a.createElement(be,null),r.a.createElement(j,null),r.a.createElement(_,null),r.a.createElement(J,null)))};document.addEventListener("touchstart",function e(t){document.documentElement.classList.add("can-touch"),document.removeEventListener("touchstart",e,!1)},!1),ne.configure(),s.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[146,2,1]]]);
//# sourceMappingURL=main.22f471a1.chunk.js.map